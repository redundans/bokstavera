<!DOCTYPE html>
<html lang="sv">
<head>
	<meta charset="utf-8">
	<title>Bokstavera</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
	<script src="//unpkg.com/alpinejs" defer></script>
	<script src="dist/confetti.browser.min.js"></script>
	<link href="dist/styles.css" rel="stylesheet" />
	<link rel="apple-touch-icon" sizes="180x180" href="dist/images/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="dist/images/avicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="dist/images/favicon-16x16.png">
	<link rel="manifest" href="dist/site.webmanifest">
	<meta property="og:title" content="Bokstavera" />
	<meta property="og:type" content="website" />
	<meta property="og:image" content="dist/images/bokstavera.webp" />
	<meta property="og:image:secure_url" content="dist/images/bokstavera.webp" />
	<meta property="og:image:type" content="image/webp" />
	<meta property="og:image:width" content="1200" />
	<meta property="og:image:height" content="630" />
	<script>
		const words = {
			"en" : [
				{
					letter: "A",
					word: "Alfa"
				},
				{
					letter: "B",
					word: "Bravo"
				},
				{
					letter: "C",
					word: "Charlie"
				},
				{
					letter: "D",
					word: "Delta"
				},
				{
					letter: "E",
					word: "Echo"
				},
				{
					letter: "F",
					word: "Foxtrot"
				},
				{
					letter: "G",
					word: "Golf"
				},
				{
					letter: "H",
					word: "Hotel"
				},
				{
					letter: "I",
					word: "India"
				},
				{
					letter: "J",
					word: "Juliett"
				},
				{
					letter: "K",
					word: "Kilo"
				},
				{
					letter: "L",
					word: "Lima"
				},
				{
					letter: "M",
					word: "Mike"
				},
				{
					letter: "N",
					word: "November"
				},
				{
					letter: "O",
					word: "Oscar"
				},
				{
					letter: "P",
					word: "Papa"
				},
				{
					letter: "Q",
					word: "Quebec"
				},
				{
					letter: "R",
					word: "Romea"
				},
				{
					letter: "S",
					word: "Sierra"
				},
				{
					letter: "T",
					word: "Tango"
				},
				{
					letter: "U",
					word: "Uniform"
				},
				{
					letter: "V",
					word: "Victor"
				},
				{
					letter: "W",
					word: "Whiskey"
				},
				{
					letter: "X",
					word: "X-ray"
				},
				{
					letter: "Y",
					word: "Yankee"
				},
				{
					letter: "Z",
					word: "Zulu"
				},
				{
					letter: "Å",
					word: "Alfa Alfa"
				},
				{
					letter: "Ä",
					word: "Alfa Echo"
				},
				{
					letter: "Ö",
					word: "Oscar Echo"
				}
			],
			"sv" : [
				{
					letter: "A",
					word: "Adam"
				},
				{
					letter: "B",
					word: "Bertil"
				},
				{
					letter: "C",
					word: "Cesar"
				},
				{
					letter: "D",
					word: "David"
				},
				{
					letter: "E",
					word: "Erik"
				},
				{
					letter: "F",
					word: "Filip"
				},
				{
					letter: "G",
					word: "Gustav"
				},
				{
					letter: "H",
					word: "Helge"
				},
				{
					letter: "I",
					word: "Ivar"
				},
				{
					letter: "J",
					word: "Johan"
				},
				{
					letter: "K",
					word: "Kalle"
				},
				{
					letter: "L",
					word: "Ludvig"
				},
				{
					letter: "M",
					word: "Martin"
				},
				{
					letter: "N",
					word: "Niklas"
				},
				{
					letter: "O",
					word: "Olof"
				},
				{
					letter: "P",
					word: "Petter"
				},
				{
					letter: "Q",
					word: "Qvintus"
				},
				{
					letter: "R",
					word: "Rudolf"
				},
				{
					letter: "S",
					word: "Sigurd"
				},
				{
					letter: "T",
					word: "Tore"
				},
				{
					letter: "U",
					word: "Urban"
				},
				{
					letter: "V",
					word: "Viktor"
				},
				{
					letter: "W",
					word: "Wilhelm"
				},
				{
					letter: "X",
					word: "Xerxes"
				},
				{
					letter: "Y",
					word: "Yngve"
				},
				{
					letter: "Z",
					word: "Zäta"
				},
				{
					letter: "Å",
					word: "Åke"
				},
				{
					letter: "Ä",
					word: "Ärlig"
				},
				{
					letter: "Ö",
					word: "Östen"
				}
			]
		};
	</script>
</head>
<body id="game" class="w-screen flex flex-col justify-between p-6 md:p-9"
	x-init="updateGame"
	x-data="{
		correctAnswers: 0,
		activeLetter: 'a',
		answer: '',
		lastWord: '',
		english: false,
		updateGame() {
			language = (this.english === true) ? words.en : words.sv;
			this.activeLetter = language[Math.floor(Math.random()*language.length)];
		},
		checkAnswer() {
			if ( this.answer === '' )
				return;
			if ( this.activeLetter.word.toUpperCase() === this.answer.toUpperCase() ) {
				confetti({
					particleCount: 100,
					spread: 70,
					origin: {
						y: 0.6
					}
				});
				this.correctAnswers++;
			} else {
				this.correctAnswers = 0;
				let body = document.getElementById('game');
				body.classList.add('flash');
				setTimeout(function() {
					body.classList.remove('flash');
				}, 500);
			}
			this.lastWord = this.activeLetter.word;
			this.answer = '';
			this.updateGame();
		}
	}"
	>
	<nav class="container mx-auto flex flex-row justify-between items-end">
		<h1 class="text-lg md:text-xl font-extrabold">Bokstavera</h1>
		<div>
			Rätt:
			<span
				x-text="correctAnswers"
			></span>
		</div>
		<div class="flex flex-row gap-3 text-sm md:text-base">
			<span
				x-show="english"
			>Engelska</span>
			<span
				x-show="!english"
			>Svenska</span>
			<label for="hs-basic-usage" class="relative inline-block w-11 h-6 cursor-pointer">
				<input type="checkbox" id="hs-basic-usage" x-model="english" class="peer sr-only" @change="correctAnswers=0;updateGame">
				<span class="absolute inset-0 bg-gray-200 rounded-full transition-colors duration-200 ease-in-out peer-checked:bg-black dark:bg-neutral-700 dark:peer-checked:bg-black peer-disabled:opacity-50 peer-disabled:pointer-events-none"></span>
				<span class="absolute top-1/2 start-0.5 -translate-y-1/2 size-5 bg-white rounded-full shadow-xs transition-transform duration-200 ease-in-out peer-checked:translate-x-full dark:bg-neutral-400 dark:peer-checked:bg-white"></span>
			</label>
		</div>
	</nav>
	<div class="h-full mx-auto container flex flex-col justify-center items-center">
		<div class="-mb-24 md:mb-0 flex flex-col items-center gap-6"
			
		>
			
			<div
				id="letter"
				x-text="activeLetter.letter"
			></div>
			
			<form id="form" @submit.prevent="checkAnswer" class="input-wrapper mt-6">
				<input
					id="input"
					type="text"
					x-model="answer"
					maxlength="activeLetter.length"
					autocomplete="off"
					onblur="this.focus()"
					autofocus
				>
			</form>
			
			<div 
				class="h-6 text-sm font-bold"
				>
				<div
					x-show="lastWord"
				>
					Förra ordet var
					<span
						x-text="lastWord"
					></span>
				</div>
			</div>
		</div>
	</div>
</body>
</html>